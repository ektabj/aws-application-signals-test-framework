"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_cdk_lib_1 = require("aws-cdk-lib");
const pipelines_1 = require("@amzn/pipelines");
const assertions_1 = require("aws-cdk-lib/assertions");
const otel_python_workflow_stack_1 = require("../../lib/stacks/otel_python_workflow_stack");
const accountId = '123456789012';
const pipelineId = '1223123123123';
const region = 'us-west-2';
const deploymentEnvironment = pipelines_1.DeploymentEnvironmentFactory.fromAccountAndRegion(accountId, region, pipelineId);
describe('OtelPythonWorkflowsStack', () => {
    it('Creates OtelPythonWorkflowsStack', () => {
        const app = new aws_cdk_lib_1.App();
        const betaDeploymentProps = {
            env: deploymentEnvironment,
            softwareType: pipelines_1.SoftwareType.INFRASTRUCTURE,
            stage: 'beta',
        };
        const otelPythonWorkflowsStack = new otel_python_workflow_stack_1.OtelPythonWorkflowsStack(app, 'OtelPythonWorkflowsStack', betaDeploymentProps);
        const template = assertions_1.Template.fromStack(otelPythonWorkflowsStack);
        expect(template).toMatchSnapshot();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3RlbF9weXRob25fd29ya2Zsb3dfc3RhY2sudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Rlc3Qvb3RlbF9weXRob25fd29ya2Zsb3cvb3RlbF9weXRob25fd29ya2Zsb3dfc3RhY2sudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFrQztBQUNsQywrQ0FBNkU7QUFDN0UsdURBQWtEO0FBQ2xELDRGQUF1RjtBQUV2RixNQUFNLFNBQVMsR0FBRyxjQUFjLENBQUM7QUFDakMsTUFBTSxVQUFVLEdBQUcsZUFBZSxDQUFDO0FBQ25DLE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQztBQUMzQixNQUFNLHFCQUFxQixHQUFHLHdDQUE0QixDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFFL0csUUFBUSxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRTtJQUN0QyxFQUFFLENBQUMsa0NBQWtDLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLE1BQU0sR0FBRyxHQUFHLElBQUksaUJBQUcsRUFBRSxDQUFDO1FBQ3RCLE1BQU0sbUJBQW1CLEdBQUc7WUFDeEIsR0FBRyxFQUFFLHFCQUFxQjtZQUMxQixZQUFZLEVBQUUsd0JBQVksQ0FBQyxjQUFjO1lBQ3pDLEtBQUssRUFBRSxNQUFNO1NBQ2hCLENBQUM7UUFDRixNQUFNLHdCQUF3QixHQUFHLElBQUkscURBQXdCLENBQ3pELEdBQUcsRUFDSCwwQkFBMEIsRUFDMUIsbUJBQW1CLENBQ3RCLENBQUM7UUFFRixNQUFNLFFBQVEsR0FBRyxxQkFBUSxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQzlELE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QyxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwIH0gZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgRGVwbG95bWVudEVudmlyb25tZW50RmFjdG9yeSwgU29mdHdhcmVUeXBlIH0gZnJvbSAnQGFtem4vcGlwZWxpbmVzJztcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSAnYXdzLWNkay1saWIvYXNzZXJ0aW9ucyc7XG5pbXBvcnQgeyBPdGVsUHl0aG9uV29ya2Zsb3dzU3RhY2sgfSBmcm9tICcuLi8uLi9saWIvc3RhY2tzL290ZWxfcHl0aG9uX3dvcmtmbG93X3N0YWNrJztcblxuY29uc3QgYWNjb3VudElkID0gJzEyMzQ1Njc4OTAxMic7XG5jb25zdCBwaXBlbGluZUlkID0gJzEyMjMxMjMxMjMxMjMnO1xuY29uc3QgcmVnaW9uID0gJ3VzLXdlc3QtMic7XG5jb25zdCBkZXBsb3ltZW50RW52aXJvbm1lbnQgPSBEZXBsb3ltZW50RW52aXJvbm1lbnRGYWN0b3J5LmZyb21BY2NvdW50QW5kUmVnaW9uKGFjY291bnRJZCwgcmVnaW9uLCBwaXBlbGluZUlkKTtcblxuZGVzY3JpYmUoJ090ZWxQeXRob25Xb3JrZmxvd3NTdGFjaycsICgpID0+IHtcbiAgICBpdCgnQ3JlYXRlcyBPdGVsUHl0aG9uV29ya2Zsb3dzU3RhY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcbiAgICAgICAgY29uc3QgYmV0YURlcGxveW1lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGVudjogZGVwbG95bWVudEVudmlyb25tZW50LFxuICAgICAgICAgICAgc29mdHdhcmVUeXBlOiBTb2Z0d2FyZVR5cGUuSU5GUkFTVFJVQ1RVUkUsXG4gICAgICAgICAgICBzdGFnZTogJ2JldGEnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvdGVsUHl0aG9uV29ya2Zsb3dzU3RhY2sgPSBuZXcgT3RlbFB5dGhvbldvcmtmbG93c1N0YWNrKFxuICAgICAgICAgICAgYXBwLFxuICAgICAgICAgICAgJ090ZWxQeXRob25Xb3JrZmxvd3NTdGFjaycsXG4gICAgICAgICAgICBiZXRhRGVwbG95bWVudFByb3BzLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gVGVtcGxhdGUuZnJvbVN0YWNrKG90ZWxQeXRob25Xb3JrZmxvd3NTdGFjayk7XG4gICAgICAgIGV4cGVjdCh0ZW1wbGF0ZSkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG59KTtcbiJdfQ==